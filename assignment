#include "stdafx.h"
#include <iostream>
#include <fstream>
#include <cstdlib>
#include <iomanip>

using namespace std;


int main()
{
	char insid[7];
	char coursenum[5];
	char str[30];
	char a1, a2, a3, a4, a5;
	int i;
	int g1, g2, g3, g4, g5;
	char lines[40];
	int count = 0;
	double q1 ;
	double q2;
	double q3 ;
	double q4 ;
	double q5 ;

	double insresult;

	ifstream inputfile("masuk.txt", ios::in);
	ofstream outputfile("keluar.txt",ios::out);

	
	if (!inputfile)
	{
		cerr << "File could not be opened\n";
		exit(1);
	}

	if (!outputfile)
	{
		cerr << "File could not be opened\n";
		exit(1);
	}

	inputfile >> insid >> coursenum >> a1 >> a2 >> a3 >> a4 >> a5;
	
		

		if (a1 == 'E')
			g1 = 4;
		else if (a1 == 'G')
			g1 = 3;
		else if (a1 == 'A')
			g1 = 2;
		else if (a1 == 'P')
			g1 = 1;
		else if (a1 == 'U')
			g1 = 0;


		if (a2 == 'E')
			g2 = 4;
		else if (a2 == 'G')
			g2 = 3;
		else if (a2 == 'A')
			g2 = 2;
		else if (a2 == 'P')
			g2 = 1;
		else if (a2 == 'U')
			g2 = 0;


		if (a3 == 'E')
			g3 = 4;
		else if (a3 == 'G')
			g3 = 3;
		else if (a3 == 'A')
			g3 = 2;
		else if (a3 == 'P')
			g3 = 1;
		else if (a3 == 'U')
			g3 = 0;


		if (a4 == 'E')
			g4 = 4;
		else if (a4 == 'G')
			g4 = 3;
		else if (a4 == 'A')
			g4 = 2;
		else if (a4 == 'P')
			g4 = 1;
		else if (a4 == 'U')
			g4 = 0;


		if (a5 == 'E')
			g5 = 4;
		else if (a5 == 'G')
			g5 = 3;
		else if (a5 == 'A')
			g5 = 2;
		else if (a5 == 'P')
			g5 = 1;
		else if (a5 == 'U')
			g5 = 0;


		 q1 = g1 / 10.0;
		 q2 = g2 / 10.0;
		 q3 = g3 / 10.0;
		 q4 = g4 / 10.0;
		 q5 = g5 / 10.0;

		 insresult = 0.15*q1 + 0.23*q2 + 0.08*q3 + 0.32*q4 + 0.22*q5;

		 while (!inputfile.eof()) {
			 inputfile.getline(str, 40);
			 count++;
		 }
	
	
		outputfile << "COURSE/INSTRUCTOR EVALUATION SUMMARY" << endl << endl;

		outputfile << "INSTRUCTOR NUMBER :" << insid << endl;
		outputfile << "COURSE NUMBER :" << coursenum << endl;
		outputfile << "NUMBER OF PARTICIPANTS :" << count<<endl<<endl;
		outputfile << "AVERAGES :" << endl << endl;
		outputfile << "QUESTION 1 :" << q1 << endl;
		outputfile << "QUESTION 2 :" << q2 << endl;
		outputfile << "QUESTION 3 :" << q3 << endl;
		outputfile << "QUESTION 4 :" << q4 << endl;
		outputfile << "QUESTION 5 :" << q5 << endl << endl;
		outputfile << "INSTRUCTOR AVERAGE :" << insresult << endl;
	

	return 0;
}
